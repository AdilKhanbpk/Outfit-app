Build a full MERN-stack Virtual Outfit Try-On Application using React (frontend), Node.js + Express (backend), and simple folder structure. Do NOT include login, signup, authentication, user accounts, or database saving. Focus completely on the UI, the backend routes, and the core try-on functionality.

====================
‚ú® GOAL OF THE APP
====================
A user uploads a full-body image, selects clothing items (shirt, coat, pants, shoes, watch) and their colors. The backend then sends this data along with the image to a HuggingFace free Virtual Try-On model. The model generates a realistic try-on image and returns it to the frontend for preview and download.

====================
üé® FRONTEND REQUIREMENTS (React)
====================
1. Provide a beautiful, responsive, minimalist UI with a clean layout:
   - A left panel for user inputs
   - A center preview area for the output image
   - A right panel for outfit selections

2. UI Components:
   - Image upload box (drag & drop or file select)
   - Clothing selectors:
       ‚Ä¢ Shirt type + color
       ‚Ä¢ Pants type + color
       ‚Ä¢ Shoes type + color
       ‚Ä¢ Coat/suit type + color
       ‚Ä¢ Watch type + color
   - Dynamic color pickers
   - ‚ÄúGenerate Outfit Preview‚Äù button
   - Loading animation while AI processes image
   - Preview area showing:
     ‚Ä¢ Input image
     ‚Ä¢ Generated try-on image
   - Buttons:
     ‚Ä¢ Re-generate
     ‚Ä¢ Download image
     ‚Ä¢ Clear

3. Validation:
   - Prevent empty image uploads
   - Prevent unsupported file types
   - Prevent files bigger than 8MB
   - Show friendly error messages

4. Use Axios for API calls to backend.

====================
üõ† BACKEND REQUIREMENTS (Node + Express)
====================
Create a full Express server with these features:

1. Route: POST /api/tryon
   ‚Ä¢ Accept:
       ‚Äì User uploaded image (multipart/form-data)
       ‚Äì Clothing selections (JSON)
   ‚Ä¢ Validate:
       ‚Äì Image size, type, existence
       ‚Äì Clothing fields
   ‚Ä¢ Store API Keys in `.env`
       Example:
         HUGGINGFACE_API_KEY=YOUR_KEY_HERE
         HF_MODEL_URL=https://api-inference.huggingface.co/models/your-selected-model

2. Backend should:
   ‚Ä¢ Convert user image to Base64
   ‚Ä¢ Build the correct payload for HuggingFace Inference API
   ‚Ä¢ Send the request using fetch or axios
   ‚Ä¢ Handle HuggingFace failures, timeouts, and malformed images
   ‚Ä¢ Return the generated output image as Base64 or buffer to frontend

3. Error handling:
   ‚Ä¢ Return structured JSON errors
   ‚Ä¢ Catch timeouts
   ‚Ä¢ Catch invalid responses
   ‚Ä¢ Handle model rate limit (retry once)

4. Use CORS, compression, and secured headers.

====================
ü§ñ HUGGINGFACE MODEL INTEGRATION
====================
Use one of these free models available on HuggingFace (choose whichever is easiest):
- ‚Äúzalando/virtual-try-on-diffusion‚Äù
- ‚Äúlllyasviel/sd-controlnet-openpose‚Äù
- ‚Äúdiffusers/ControlNet-virtual-try-on‚Äù
- ‚ÄúSOTA virtual try-on models via inference endpoints‚Äù
You may wrap them behind a single try-on function.

Backend must:
- Send image + clothing text instructions
- Include pose or mask conditioning if model requires it
- Provide fallback if primary model fails

====================
üîê ENV CONFIG (.env)
====================
Use environment variables to store API keys and model URL:

HUGGINGFACE_API_KEY=""
HF_MODEL_URL=""

Do NOT hardcode keys.

====================
‚öôÔ∏è EDGE CASES TO SUPPORT
====================
- User uploads no image ‚Üí show error
- Wrong image format ‚Üí error
- Image too small / low resolution ‚Üí warn user
- HuggingFace returns no image ‚Üí show error message
- Model latency delays ‚Üí show long ‚Äúprocessing‚Äù message
- If model crashes ‚Üí return "Model currently unavailable, try again"
- Handle slow network or API timeout (30 sec max)
- Validate clothing fields to avoid sending null data to HuggingFace
- Frontend maintains previous result until new one is ready

====================
üìÅ PROJECT STRUCTURE
====================
Backend:
  /server
    /routes
    /controllers
    /utils/huggingface.js
    /middleware
    /uploads
    server.js
    .env

Frontend:
  /client
    /components
    /pages
    /utils/api.js
    App.js
    index.js

====================
üì¶ BACKEND LIBRARIES
====================
Use:
- express
- cors
- multer (for image upload)
- axios
- dotenv
- nodemon (dev)

====================
üì¶ FRONTEND LIBRARIES
====================
Use:
- react
- axios
- tailwindcss (for styling)
- react-color for color selection
- react-dropzone for file upload UI
- loading spinner component

====================
üèÅ FINAL OUTPUT EXPECTATIONS
====================
Generate:
‚úî A complete MERN project  
‚úî Frontend with full UI and functionality  
‚úî Backend with clean controllers & routes  
‚úî HuggingFace API integration  
‚úî ENV-based configuration  
‚úî Full error handling  
‚úî Image rendering end-to-end  
‚úî Ready to run locally with:
    - "npm install"
    - "npm run dev" (or separate client/server commands)
